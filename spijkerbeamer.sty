%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LaTeX2e style beamer file ASO Spijker
%
% Useage: 
%	\usepackage[]{spijkerbeamer}
%
% Options:
%
%	screen		colour mode
%	print		black-and-white for printing
%
%
% Dependencies: spijkerbeamer.png spijkerbeamer-print.png
%
% version 0.1.0 - 2022/09/22: initial release on github by Pieter Smets
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NeedsTeXFormat{LaTeX2e}

\def\fileversion{v0.1.0}
\def\filedate{2022/09/22}

\ProvidesPackage{spijkerbeamer}[2022/09/22 v0.1.0 LaTeX2e Package providing ASO Spijker beamer template.]

\typeout{*********************************************************************}
\typeout{spijkerbeamer LaTeX2e Package}
\typeout{     version : \fileversion}
\typeout{     date    : \filedate}
\typeout{*********************************************************************}

\RequirePackage{kvoptions}
\RequirePackage{ifthen}

\DeclareBoolOption[true]{screen}
\DeclareComplementaryOption{print}{screen}

\ProcessKeyvalOptions{spijkerbeamer}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mode<presentation>{}

% font
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{lmodern}

% language
\RequirePackage[dutch]{babel}
\selectlanguage{dutch}
%\hyphenchar\font=-1	% Geen hyphenation

\RequirePackage{xcolor}
\RequirePackage{graphicx}
\RequirePackage{grffile}
\RequirePackage{appendixnumberbeamer}
\RequirePackage{hyperref}

% TikZ PGFplots
\RequirePackage{tikz}
\RequirePackage{pgfplots}
\RequirePackage{pgfplotstable}
\pgfplotsset{compat = newest}
\usetikzlibrary{calc,babel,arrows.meta}

\usetheme{}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% define some colours
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{lightgray}{gray}{0.8}

\ifspijkerbeamer@screen
  \definecolor{spijker-blauw}{RGB}{0,171,200}
  \definecolor{spijker-geel}{RGB}{255,213,77}
  \definecolor{spijker-rood}{RGB}{228,102,88}
  \definecolor{spijker-lichtrood}{RGB}{246,176,135}
  \setbeamercolor{frametitle}{fg=spijker-geel,bg=spijker-blauw}
  \def\spijkerlogo{spijkerbeamer.png}
\else
  \definecolor{spijker-blauw}{gray}{.10}
  \definecolor{spijker-geel}{gray}{0.80}
  \definecolor{spijker-rood}{gray}{0.30}
  \definecolor{spijker-lichtrood}{gray}{0.60}
  \setbeamercolor{frametitle}{fg=black,bg=white}
  \def\spijkerlogo{spijkerbeamer-print.png}
\fi
\colorlet{spijker-donkerblauw}{spijker-blauw!85!black}
\colorlet{spijker-lichtblauw}{spijker-blauw!85!white}
\colorlet{spijker-donkergeel}{spijker-geel!85!black}
\colorlet{spijker-lichtgeel}{spijker-geel!85!white}
\colorlet{spijker-donkerrood}{spijker-rood!85!black}

\color{black}
\setbeamercolor{title}{fg=spijker-blauw}
\setbeamercolor{subtitle}{fg=spijker-blauw}
\setbeamercolor{author}{fg=spijker-blauw}
\setbeamercolor{date}{fg=spijker-blauw}
\setbeamercolor{titlelike}{fg=black}
\setbeamercolor{text}{fg=black}

\setbeamerfont{frametitle}{size=\large,series=\bfseries,family=\sffamily}
\setbeamerfont{title}{size=\Huge,series=\bfseries,family=\sffamily}
\setbeamerfont{subtitle}{size=\Large,series=\bfseries,family=\sffamily}

\setbeamerfont{author}{size=\large,series=\bfseries,family=\sffamily}
\setbeamerfont{date}{size=\normalsize,family=\sffamily}

\setbeamercolor{item projected}{bg=gray}
\setbeamertemplate{enumerate items}[default]
\setbeamertemplate{navigation symbols}{} % remove navigation symbols
\setbeamercovered{transparent}
\setbeamercolor{block title}{fg=gray}
\setbeamercolor{local structure}{fg=gray}
\setbeamercolor{enumerate item}{fg=spijker-rood}
\setbeamercolor{enumerate subitem}{fg=spijker-lichtrood}
\setbeamertemplate{itemize item}{\color{spijker-rood}$\blacktriangleright$}
\setbeamertemplate{itemize subitem}{\color{spijker-lichtrood}\small$\blacktriangleright$}
\setlength{\leftmargini}{12mm}

% toc
\setbeamertemplate{section in toc}[sections numbered]
\setbeamercolor{section in toc}{fg=spijker-rood}
\setbeamertemplate{subsection in toc}[sections numbered]
\setbeamercolor{subsection in toc}{fg=spijker-lichtrood}

\newcommand{\logos}{%
  \begin{tikzpicture}[remember picture, overlay] %
    \node [shift={(0.cm, 1.2cm)}] at (current page.south){\includegraphics[height=1.2cm]{\spijkerlogo}};%
  \end{tikzpicture}%
}

\newcommand{\topline}{%
  \begin{tikzpicture}[remember picture, overlay] %
    \path coordinate [shift={(-.5\paperwidth, -2pt)}] (A) at (current page.north)
      coordinate [shift={(-.167\paperwidth, -2pt)}] (B) at (current page.north)
      coordinate [shift={(+.167\paperwidth, -2pt)}] (C) at (current page.north)
      coordinate [shift={(+.5\paperwidth, -2pt)}] (D) at (current page.north)
      ; %
    \draw[color=spijker-geel,line width=4pt] (A) -- (B); %
    \draw[color=spijker-lichtrood,line width=4pt] (B) -- (C); %
    \draw[color=spijker-rood,line width=4pt] (C) -- (D); %
  \end{tikzpicture}%
}

\newcommand{\bottomline}{%
  \begin{tikzpicture}[remember picture, overlay] %
    \path coordinate [shift={(-.5\paperwidth, 2pt)}] (A) at (current page.south)
      coordinate [shift={(-.167\paperwidth, 2pt)}] (B) at (current page.south)
      coordinate [shift={(+.167\paperwidth, 2pt)}] (C) at (current page.south)
      coordinate [shift={(+.5\paperwidth, 2pt)}] (D) at (current page.south)
      ; %
    \draw[color=spijker-geel,line width=4pt] (A) -- (B); %
    \draw[color=spijker-lichtrood,line width=4pt] (B) -- (C); %
    \draw[color=spijker-rood,line width=4pt] (C) -- (D); %
  \end{tikzpicture}%
}

\newcommand{\footline}{%
  \begin{tikzpicture}[remember picture, overlay] %
    \path coordinate [shift={(-.5\paperwidth, 12pt)}] (A) at (current page.south)
      coordinate [shift={(-.167\paperwidth, 12pt)}] (B) at (current page.south)
      coordinate [shift={(+.167\paperwidth, 12pt)}] (C) at (current page.south)
      coordinate [shift={(+.5\paperwidth, 12pt)}] (D) at (current page.south)
      ; %
    \draw[color=spijker-geel,line width=1.5pt] (A) -- (B); %
    \draw[color=spijker-lichtrood,line width=1.5pt] (B) -- (C); %
    \draw[color=spijker-rood,line width=1.5pt] (C) -- (D); %
  \end{tikzpicture}%
}

\newcommand{\titleslide}[0]{ %
  \begin{frame}[plain] %
    \titlepage %
    \logos %
    \topline %
    \bottomline %
  \end{frame} %
}
	
\newcommand\slidenote[2][black]{%
  \tikz[remember picture,overlay,color=#1]%
  \node [shift={(1.2in+\oddsidemargin+\textwidth,3mm)},above left] at (current page.south west) {\scriptsize#2}; %
}

\newcommand{\link}[2]{\href{#1}{\color{cyan}\underline{\textit{#2}}}}

\setbeamerfont{footline}{size=\tiny,family=\sffamily}
\setbeamercolor{footline}{fg=spijker-blauw}
\setbeamertemplate{footline}{
    \hbox{%
	\footline%
    \begin{beamercolorbox}[wd=\paperwidth,ht=3ex,dp=1.5ex,leftskip=2.5ex,rightskip=2.5ex,]{upper separation line foot}%
        \usebeamerfont{title in head/foot}%
        \ifthenelse{\equal{\insertshorttitle}{}}{}{\textbf{\insertshorttitle}}%
        {\ifthenelse{\equal{\insertsection}{}}{}{{\color{spijker-blauw}\hspace{2.5ex}$\blacktriangleright$\hspace{2ex}\ifthenelse{\equal{\thesection}{}}{}{\thesection.}~\insertsection}}}%
        {\ifthenelse{\equal{\insertsubsection}{}}{}{{\color{spijker-blauw}\hspace{2ex}$\rhd$\hspace{1.5ex}\it\insertsubsection}}}\hfill%
        \insertframenumber{}\,/\,\inserttotalframenumber%
    \end{beamercolorbox}}%
}
